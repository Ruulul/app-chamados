{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LORENA UBS\\\\app-chamados\\\\client\\\\src\\\\Pages\\\\FiltroServico.js\";\nimport React from \"react\";\nimport Servicos from \"../components/Servicos\";\nimport { InputLabel, Select, Card, Stack, Grid, Typography } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Filtro extends React.Component {\n  constructor(props) {\n    super(props);\n    this.geraservicos = this.geraservicos.bind(this);\n    this.atualizafiltro = this.atualizafiltro.bind(this);\n    this.state = {\n      servicos: [],\n      filtro: '\"todos\"'\n    };\n    this.setState({\n      servicos: []\n    }, () => {\n      this.setState({\n        servicos: this.geraservicos()\n      });\n    });\n  }\n\n  geraservicos() {\n    let servicos = [];\n    console.log(localStorage);\n    Object.keys(localStorage).forEach(k => {\n      if (localStorage[k].includes('\"tipo\":\"servico\"') && (this.state.filtro !== '\"todos\"' ? localStorage[k].includes('\"status\":' + this.state.filtro) : true)) servicos = [...servicos, JSON.parse(localStorage[k])];\n    });\n    servicos.sort((a, b) => {\n      return a.prioridade - b.prioridade;\n    });\n    return servicos;\n  }\n\n  atualizafiltro(filtro) {\n    console.log(\"Filtro atual: \" + this.state.filtro);\n    console.log(\"Filtro a ser atualizado: \" + filtro);\n    this.setState({\n      filtro: '\"' + filtro + '\"'\n    }, () => {\n      console.log(\"Novo filtro: \" + this.state.filtro);\n    });\n    this.setState({\n      servicos: []\n    }, () => {\n      this.setState({\n        servicos: this.geraservicos()\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.atualizafiltro(\"pendente\");\n  }\n\n  render() {\n    console.log(\"Atualizado\");\n    console.log(\"Serviços: \" + JSON.stringify(this.state.servicos));\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      direction: {\n        xs: \"row\",\n        md: \"row\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 10,\n            md: 2,\n            children: /*#__PURE__*/_jsxDEV(Stack, {\n              p: 2,\n              children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                htmlFor: \"filtro\",\n                children: \"Status: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Select, {\n                size: \"small\",\n                sx: {\n                  height: \"fit-content\"\n                },\n                name: \"filtro\",\n                onChange: e => {\n                  this.atualizafiltro(e.target.value);\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    name: \"\\\"pendente\\\"\",\n                    children: \"pendente\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    name: \"\\\"resolvido\\\"\",\n                    children: \"resolvido\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    name: \"\\\"fechado\\\"\",\n                    children: \"fechado\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    name: \"\\\"todos\\\"\",\n                    children: \"todos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(Card, {\n                sx: {\n                  margin: \"1em\",\n                  padding: \"1em\",\n                  placeContent: \"center\"\n                },\n                elevation: \"2\",\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  children: this.state.filtro !== '\"todos\"' ? \"Serviços \" + this.state.filtro.replace('\"', \"\").replace('\"', \"\") + \"s: \" + this.state.servicos.length : \"Todos os serviços: \" + this.state.servicos.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            md: 10,\n            children: /*#__PURE__*/_jsxDEV(Servicos, {\n              servicos: this.state.servicos,\n              ir_para_pagina: this.props.ir_para_pagina,\n              acao: this.props.acao\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Filtro;","map":{"version":3,"sources":["C:/Users/LORENA UBS/app-chamados/client/src/Pages/FiltroServico.js"],"names":["React","Servicos","InputLabel","Select","Card","Stack","Grid","Typography","Filtro","Component","constructor","props","geraservicos","bind","atualizafiltro","state","servicos","filtro","setState","console","log","localStorage","Object","keys","forEach","k","includes","JSON","parse","sort","a","b","prioridade","componentDidMount","render","stringify","xs","md","height","e","target","value","margin","padding","placeContent","replace","length","ir_para_pagina","acao"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Servicos from \"../components/Servicos\";\r\n\r\nimport {\r\n  InputLabel,\r\n  Select,\r\n  Card,\r\n  Stack,\r\n  Grid,\r\n  Typography\r\n} from \"@mui/material\";\r\n\r\nclass Filtro extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.geraservicos = this.geraservicos.bind(this);\r\n    this.atualizafiltro = this.atualizafiltro.bind(this);\r\n\r\n    this.state = {\r\n      servicos: [],\r\n      filtro: '\"todos\"'\r\n    };\r\n    this.setState({ servicos: [] }, () => {\r\n      this.setState({ servicos: this.geraservicos() });\r\n    });\r\n  }\r\n  geraservicos() {\r\n    let servicos = [];\r\n    console.log(localStorage);\r\n    Object.keys(localStorage).forEach((k) => {\r\n      if (\r\n        localStorage[k].includes('\"tipo\":\"servico\"') &&\r\n        (this.state.filtro !== '\"todos\"'\r\n          ? localStorage[k].includes('\"status\":' + this.state.filtro)\r\n          : true)\r\n      )\r\n        servicos = [...servicos, JSON.parse(localStorage[k])];\r\n    });\r\n    servicos.sort((a, b) => {\r\n      return a.prioridade - b.prioridade;\r\n    });\r\n    return servicos;\r\n  }\r\n  atualizafiltro(filtro) {\r\n    console.log(\"Filtro atual: \" + this.state.filtro);\r\n    console.log(\"Filtro a ser atualizado: \" + filtro);\r\n    this.setState({ filtro: '\"' + filtro + '\"' }, () => {\r\n      console.log(\"Novo filtro: \" + this.state.filtro);\r\n    });\r\n\r\n    this.setState({ servicos: [] }, () => {\r\n      this.setState({ servicos: this.geraservicos() });\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.atualizafiltro(\"pendente\");\r\n  }\r\n\r\n  render() {\r\n    console.log(\"Atualizado\");\r\n    console.log(\"Serviços: \" + JSON.stringify(this.state.servicos));\r\n    return (\r\n        <Grid container direction={{ xs: \"row\", md: \"row\" }}>\r\n          <Grid item xs={12}>\r\n      <Card>\r\n          <Grid item xs={10} md={2}>\r\n            <Stack p={2}>\r\n              <InputLabel htmlFor=\"filtro\">Status: </InputLabel>\r\n              <Select\r\n                size=\"small\"\r\n                sx={{ height: \"fit-content\" }}\r\n                name=\"filtro\"\r\n                onChange={(e) => {\r\n                  this.atualizafiltro(e.target.value);\r\n                }}\r\n              >\r\n                <Typography>\r\n                  <option name='\"pendente\"'>pendente</option>\r\n                  <option name='\"resolvido\"'>resolvido</option>\r\n                  <option name='\"fechado\"'>fechado</option>\r\n                  <option name='\"todos\"'>todos</option>\r\n                </Typography>\r\n              </Select>\r\n\r\n              <Card\r\n                sx={{ margin: \"1em\", padding: \"1em\", placeContent: \"center\" }}\r\n                elevation=\"2\"\r\n              >\r\n                <Typography variant=\"caption\">\r\n                  {this.state.filtro !== '\"todos\"'\r\n                    ? \"Serviços \" +\r\n                      this.state.filtro.replace('\"', \"\").replace('\"', \"\") +\r\n                      \"s: \" +\r\n                      this.state.servicos.length\r\n                    : \"Todos os serviços: \" + this.state.servicos.length}\r\n                </Typography>\r\n              </Card>\r\n            </Stack>\r\n          </Grid>\r\n          <Grid item md={10}>\r\n            <Servicos\r\n              servicos={this.state.servicos}\r\n              ir_para_pagina={this.props.ir_para_pagina}\r\n              acao={this.props.acao}\r\n            />\r\n          </Grid>\r\n      </Card>\r\n      </Grid>\r\n        </Grid>\r\n    );\r\n  }\r\n}\r\nexport default Filtro;\r\n"]},"metadata":{},"sourceType":"module"}